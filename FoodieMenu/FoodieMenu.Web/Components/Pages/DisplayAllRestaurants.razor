@page "/RestaurantList"
@rendermode InteractiveServer
@inject NavigationManager NavManager


<MudText Typo="Typo.h3" GutterBottom="true">DisplayAllRestaurants</MudText>
@foreach (var restaurant in AllRestaurants)
{
    
    <MudGrid Spacing="3" Justify="Justify.FlexStart">
        <MudItem>
            <MudCard Class="d-flex flex-column flex-grow-1 gap-4" Elevation="1">
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary" Typo=Typo.h6 OnClick="() => DisplayRestaurantMenus(restaurant.RestaurantID)">@restaurant.Name</MudButton>
                </MudCardActions>
                <MudText Typo=Typo.body1>@restaurant.Description</MudText>
                <MudText Typo=Typo.body1>@restaurant.email</MudText>
                <MudCardActions>
                    @if (menus != null && restaurant.RestaurantID == RestaurantClickedOn)
                    {
                        @if (menus.Count > 0)
                        {
                            <MudText Typo="Typo.h6">Menus:</MudText>
                            @foreach (var menu in menus)
                            {
                                <MudButton Variant="Variant.Text" Color="Color.Dark" Typo=Typo.h6 OnClick="() => NavigateToRestaurantMenu(menu.MenuID)">@menu.Name</MudButton>
                            }
                        } else
                        {
                            <MudText Typo="Typo.h6">Restaurant haven't uploaded a menu yet</MudText>
                        }
                }
                </MudCardActions>
            </MudCard>

        </MudItem>
    </MudGrid>
}
